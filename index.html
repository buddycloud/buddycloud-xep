<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XEP-xxxx: Buddycloud Channels</title><link rel="stylesheet" type="text/css" href="xmpp/xmpp.css" /><link href="xmpp/prettify.css" type="text/css" rel="stylesheet" /><link rel="shortcut icon" type="image/x-icon" href="xmpp/favicon.ico" /><script type="text/javascript" src="xmpp/prettify.js"></script><meta name="DC.Title" content="Buddycloud Channels" /><meta name="DC.Creator" content="Simon Tennant" /><meta name="DC.Creator" content="Lloyd Watkin" /><meta name="DC.Creator" content="Ashley Ward" /><meta name="DC.Description" content="This document describes a profile and conventions for usage of the PubSub protocol in the context of a new type of communication." /><meta name="DC.Publisher" content="XMPP Standards Foundation" /><meta name="DC.Contributor" content="XMPP Extensions Editor" /><meta name="DC.Date" content="`date +%Y-%m-%d`" /><meta name="DC.Type" content="XMPP Extension Protocol" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="XEP-xxxx" /><meta name="DC.Language" content="en" /><meta name="DC.Rights" content="This XMPP Extension Protocol is copyright (c) 1999 - `date +%Y`&#10;        by the XMPP Standards Foundation (XSF).&#10;    " /></head><body onload="prettyPrint()"><h1>XEP-xxxx: Buddycloud Channels</h1><table><tr valign="top"><td><strong>Abstract:</strong></td><td>This document describes a profile and conventions for usage of the PubSub protocol in the context of a new type of communication.</td></tr><tr valign="top"><td><strong>Authors:</strong></td><td>Simon Tennant, Lloyd Watkin, Ashley Ward</td></tr><tr valign="top"><td><strong>Copyright:</strong></td><td>© 1999 - 2014 XMPP Standards Foundation. <a href="#appendix-legal">SEE LEGAL NOTICES</a>.</td></tr><tr valign="top"><td><strong>Status:</strong></td><td>ProtoXEP</td></tr><tr valign="top"><td><strong>Type:</strong></td><td>Standards Track</td></tr><tr valign="top"><td><strong>Version:</strong></td><td>0.0.1</td></tr><tr valign="top"><td><strong>Last Updated:</strong></td><td>`date +%Y-%m-%d`</td></tr></table><hr /><p style="color:red">WARNING: This document has not yet been accepted for consideration or approved in any official manner by the XMPP Standards Foundation, and this document is not yet an XMPP Extension Protocol (XEP). If this document is accepted as a XEP by the XMPP Council, it will be published at &lt;<a href="http://xmpp.org/extensions/">http://xmpp.org/extensions/</a>&gt; and announced on the &lt;standards@xmpp.org&gt; mailing list.</p><hr /><h2>Table of Contents</h2><div class="indent"><p><br />1.  <a href="#Buddycloud Introduction">Buddycloud Introduction</a><br />   
      1.1.  <a href="#about-buddycloud">About Buddycloud</a><br />   
      1.2.  <a href="#Buddycloud Channels">Buddycloud Channels</a><br />   
      1.3.  <a href="#glossary">Glossary</a><br />2.  <a href="#Finding-the-right-Buddycloud-server">Service Discovery</a><br />   
      2.1.  <a href="#DISCOthenDNS">Discovery order</a><br />   
      2.2.  <a href="#disco-discovery">Discovery using Disco</a><br />   
      2.3.  <a href="#DNS-discovery">Discovery using DNS</a><br />3.  <a href="#register">Register</a><br />4.  <a href="#channel-config">Channel and Node Configuration</a><br />   
      4.1.  <a href="#get-node-config">Get Node Configuration</a><br />   
      4.2.  <a href="#set-node-config">Set Node Configuration</a><br />   
      4.3.  <a href="#default-roles">Default roles</a><br />   
      4.4.  <a href="#well-known-nodes">Well known nodes</a><br />5.  <a href="#biz-logic">Business Logic</a><br />   
      5.1.  <a href="#PubSub-for-humans">PubSub for Humans</a><br />   
      5.2.  <a href="#rules-nodeaffiliations">Maintain Similar Affiliations across Channel Nodes</a><br />6.  <a href="#items">Pubsub Items</a><br />   
      6.1.  <a href="#items-retrieve">Retrieving items</a><br />      
      6.1.1.  <a href="#items-recent">Recent Items</a><br />        
      6.1.1.1.  <a href="#items-recent-errorcases">Error Cases</a><br />   
      6.2.  <a href="#items-delete">Deleting items</a><br />   
      6.3.  <a href="#item-payload">Item Payload</a><br />      
      6.3.1.  <a href="#item-publishing">Publishing</a><br />      
      6.3.2.  <a href="#item-threading">Threading</a><br />      
      6.3.3.  <a href="#item-referencing">Referencing</a><br />      
      6.3.4.  <a href="#item-rating">Rating</a><br />        
      6.3.4.1.  <a href="#item-rating-errorcases">Error cases</a><br />7.  <a href="#subscriptions">Channel subscriptions</a><br />8.  <a href="#federation">Federation</a><br />   
      8.1.  <a href="#inbox">Inbox</a><br />   
      8.2.  <a href="#Interaction-With-Other-Services">Interaction With Other Services</a><br />9.  <a href="#security-considerations">Security Considerations</a><br />   
      9.1.  <a href="#server-trust">Server Trust</a><br />   
      9.2.  <a href="#security-considerations-with-follower+post-role">Default Role</a></p><p><a href="#appendices">Appendices</a><br />    <a href="#appendix-docinfo">A: Document Information</a><br />    <a href="#appendix-authorinfo">B: Author Information</a><br />    <a href="#appendix-legal">C: Legal Notices</a><br />    <a href="#appendix-xmpp">D: Relation to XMPP</a><br />    <a href="#appendix-discuss">E: Discussion Venue</a><br />    <a href="#appendix-conformance">F: Requirements Conformance</a><br />    <a href="#appendix-notes">G: Notes</a><br />    <a href="#appendix-revs">H: Revision History</a></p></div><hr /><h2>1.
       <a name="Buddycloud Introduction" id="Buddycloud Introduction">Buddycloud Introduction</a></h2>
	<div class="indent"><h3>1.1 <a name="about-buddycloud" id="about-buddycloud">About Buddycloud</a></h3>
		<p>The Buddycloud project is a set of independently deployable services, that
			inter-operate to create a rich collaboration service.
		</p>
		<p>Buddycloud Channels build on XMPP's native federation and publish-subscribe
			principles to connect to, and synchronise content with users on local and
			remote domains. Services are designed to interoperate. For example, the Media
			Server, Friend Finder, content recommendation engine work together to help
			developers build a unified collaboration services for individual and groups
			of users.
		</p>
		<p>This XEP seeks to define how the Buddycloud Channel service currently
			functions. It also seeks stay extensible for accommodate future, undefined
			use cases.
		</p>
	</div>
	<div class="indent"><h3>1.2 <a name="Buddycloud Channels" id="Buddycloud Channels">Buddycloud Channels</a></h3>
		<p>
			Buddycloud channels are a bundle of pub-sub nodes presented as a JID-like
			name (example:
			<a href="buddycloud:juliet@capulit.lit">juliet@capulet.lit</a>
			. Content posted into channels is automatically synchronised to the correct
			followers on other Buddycloud domains.
		</p>
	</div>
	<div class="indent"><h3>1.3 <a name="glossary" id="glossary">Glossary</a></h3>
		<div class="indent"><dl>
			<di>
				<dt><strong>Personal Channel</strong></dt>
				<dd> Personal channels are a group of pub-sub nodes that have the same
					owner, followers and access permissions.
				</dd>
			</di>
			<di>
				<dt><strong>Topic Channel</strong></dt>
				<dd>Topic channels are for group discussions and decoupled from the owners
					jid. For example balcony-speeches@topics.montague.lit could be owned by
					speechwriter@montague.lit.
				</dd>
			</di>
			<di>
				<dt><strong>Ephemeral Channel</strong></dt>
				<dd>
					Ephemeral channels, are generated for one-off use and automatically removed
					by the Buddycloud service after the last participant unfollows them
					(similar to the Google Hangout service) An example ephemeral channel would
					be
					<p class="caption"></p><div class="indent"><pre class="prettyprint">125bd2c4-afc2-4d4c-b869-efc0c0dad8c5@montague.lit</pre></div>
					.
				</dd>
			</di>
			<di>
				<dt><strong>Buddycloud Service</strong></dt>
				<dd>An XMPP component which hosts channel nodes and provides an interface
					conforming to this document to allow access to them via XMPP.
				</dd>
			</di>
			<di>
				<dt><strong>Home server</strong></dt>
				<dd>The Buddycloud service responsible for a JID's channels and Inbox.
				</dd>
			</di>
			<di>
				<dt><strong>Remote Server</strong></dt>
				<dd>Buddycloud service that run on other XMPP domains.
				</dd>
			</di>
			<di>
				<dt><strong>Buddycloud Inbox</strong></dt>
				<dd>Service on the entity's home Buddycloud service which subscribes to
					nodes on the Entity's behalf, and may cache node data and provide an
					ability to replay recent messages.
				</dd>
			</di>
		</dl></div>
	</div>
<h2>2.
       <a name="Finding-the-right-Buddycloud-server" id="Finding-the-right-Buddycloud-server">Service Discovery</a></h2>
	<p>Each XMPP domain can have one Buddycloud server that serves user's channels.
		Buddycloud clients and servers need to be able to discover the authoratative
		Buddycloud server. find the
	</p>
	<div class="indent"><h3>2.1 <a name="DISCOthenDNS" id="DISCOthenDNS">Discovery order</a></h3>
		<p>
			To find the correct remote Buddycloud service for a domain, the Buddycloud
			server should:
			<ol>
				<li>Use a disco#items query against the XMPP service for the remote
					Buddycloud domain.
				</li>
				<li>If no answer is returned (perhaps the remote site doesn't run a full
					XMPP service) the Buddycloud service should proceed to use the DNS
					discovery method.
				</li>
			</ol>
		</p>
	</div>
	<div class="indent"><h3>2.2 <a name="disco-discovery" id="disco-discovery">Discovery using Disco</a></h3>
		<p>The Buddycloud service first sends an items discovery request to the domain
			to discover all the available components.
		</p>
		<p class="caption"><a name="example-1" id="example-1"></a>Example 1. The Entity sends a disco#items request to the domain</p><div class="indent"><pre class="prettyprint">

&lt;iq type='get' from='juliet@capulet.lit/balcony' to='capulet.lit' id='items1'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'/&gt;
&lt;/iq&gt;
		</pre></div>
		<p>The server replies with the list of available components, along with their
			associated JIDs.
		</p>
		<p class="caption"><a name="example-2" id="example-2"></a>Example 2. The server replies with a list of available components.</p><div class="indent"><pre class="prettyprint">
  
&lt;iq type='result' from='capulet.lit' to='juliet@capulet.lit/balcony' id='items1'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#items'&gt;
    &lt;item jid='muc.capulet.lit' name='Chatrooms' /&gt;
    &lt;item jid='buddycloud.capulet.lit' name='Buddycloud Server' /&gt;
  &lt;/query&gt;
&lt;/iq&gt;
  
		</pre></div>
		<p>The entity then iterates through the &lt;item/&gt; elements, sending an
			info discovery request to each JID. 
		</p>
		<p class="caption"><a name="example-3" id="example-3"></a>Example 3. The Entity sends a disco#info request to each component</p><div class="indent"><pre class="prettyprint">

&lt;iq type='get' from='juliet@capulet.lit/balcony' to='buddycloud.capulet.lit' id='info1'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'/&gt;
&lt;/iq&gt;

		</pre></div>
		<p>Each component replies with its identity. The Buddycloud server has an
			identity of category 'pubsub' and type 'channels'.
		</p>
		<p>A domain MUST only host one component with an identity of category 'pubsub'
			and type 'channels'.
		</p>
		<p class="caption"><a name="example-4" id="example-4"></a>Example 4. The Buddycloud server replies with its identity</p><div class="indent"><pre class="prettyprint">
  
&lt;iq type='result' from='buddycloud.capulet.lit' to='juliet@capulet.lit/BuddycloudApp' id='info2'&gt;
  &lt;query xmlns='http://jabber.org/protocol/disco#info'&gt;
    &lt;identity category='pubsub' type='channels' /&gt;
    &lt;identity category='pubsub' type='inbox' /&gt;
    &lt;feature var='jabber:iq:register' /&gt;
    &lt;feature var='http://jabber.org/protocol/disco#info' /&gt;
    &lt;feature var='jabber:iq:search' /&gt;
  &lt;/query&gt;
&lt;/iq&gt;
  
		</pre></div>
	</div>
	<div class="indent"><h3>2.3 <a name="DNS-discovery" id="DNS-discovery">Discovery using DNS</a></h3>
		<p>In the case that no server is found via disco, DNS should be used to
			discover the Buddycloud server. A PTR record can be used to delegate
			Buddycloud services to a remote Buddycloud server.
		</p>
		<p class="caption"><a name="example-5" id="example-5"></a>Example 5. PTR record for buddycloud server discovery</p><div class="indent"><pre class="prettyprint">
    
    _buddycloud-server._tcp.montague.lit. PTR buddycloud-component.verona.lit.
    
		</pre></div>
		<p>
			This example delegates all the Buddycloud service to an XMPP component
			running the Buddycloud named
			buddycloud-component.verona.lit
			.
		</p>
	</div>
<h2>3.
       <a name="register" id="register">Register</a></h2>
  <p>Upon connection to the buddycloud server a user should send a register 
     stanza.</p>

  <p class="caption"><a name="example-6" id="example-6"></a>Example 6. The Entity sends a register request to the domain</p><div class="indent"><pre class="prettyprint">
  
  &lt;iq type='set'
  from='juliet@capulet.lit/balcony'
  to='channels.capulet.lit'
  id='register1'&gt;
  &lt;query xmlns='jabber:iq:register'/&gt;
  &lt;/iq&gt;
  
  </pre></div>

  <p>The register request creates the user's personal channels on first use 
  and has the additional benefit of creating additional new channel nodes 
  as they become available on the server (e.g. 'status' node, 'geoloc' nodes).
  </p>
  
<h2>4.
       <a name="channel-config" id="channel-config">Channel and Node Configuration</a></h2>
	<p>Node metadata is used to describe the channel to users. All nodes in a
		channel have the same metadata and permission.
	</p>
	<div class="indent"><h3>4.1 <a name="get-node-config" id="get-node-config">Get Node Configuration</a></h3> - using disco-info
		with the node specified - using XEP-0060 5.4 Discover Node Metadata
	</div>
	<div class="indent"><h3>4.2 <a name="set-node-config" id="set-node-config">Set Node Configuration</a></h3> set Not sure what
		goes here?
	</div>
	<div class="indent"><h3>4.3 <a name="default-roles" id="default-roles">Default roles</a></h3>
		<p> minimum setting/optional recommended fallbacks
		</p>
		<p>Channel metadata is stored as node metadata against the /posts node of the
			channel. It is recommended that all channel nodes have the same permissions
			and an update to one updates the others.
		</p>
		<p>
			Most metadata fields used for Channels are already defined in 
			xep0060;. The relevant ones are listed below.
		</p>
		<div class="indent"><p class="caption"><a name="table-1" id="table-1"></a>Table 1: Channel Metadata Fields</p><table border="1" cellpadding="3" cellspacing="0">
			<tr class="body">
				<th>Metadata</th>
				<th>Field</th>
				<th>Example</th>
				<th>Notes</th>
				<th>Defaults</th>
			</tr>
			<tr class="body">
				<td>Channel Title</td>
				<td>pubsub#title</td>
				<td>"Juliet's musings"</td>
				<td>Should be a brief single sentence</td>
				<td>"juliet@capulet.lit's Buddycloud channel"</td>
			</tr>
			<tr class="body">
				<td>Channel Description</td>
				<td>pubsub#description</td>
				<td>"This is a channel about the things that I like to do."</td>
				<td>A longer description of the channel</td>
				<td>&lt;empty&gt;</td>
			</tr>
			<tr class="body">
				<td>Channel Access Model</td>
				<td>pubsub#access_model</td>
				<td>open, authorize, local</td>
				<td>The channel subscriber model</td>
				<td>Dependent on Node</td>
			</tr>
			<tr class="body">
				<td>Channel Creator</td>
				<td>pubsub#creator</td>
				<td>mercutio@capulet.lit</td>
				<td>The channel creator's JID</td>
				<td>Dependent on Node</td>
			</tr>
			<tr class="body">
				<td>Default Affiliation</td>
				<td>buddycloud#default_affiliation</td>
				<td>"publisher"</td>
				<td>The role given to new channel followers</td>
				<td>Dependent on Channel Type</td>
			</tr>
			<tr class="body">
				<td>Channel Type</td>
				<td>buddycloud#channel_type</td>
				<td>"personal"</td>
				<td>The type of this channel. (see below). Set by the server at creation.
					Not user changable.
				</td>
				<td>N.A.</td>
			</tr>
			<tr class="body">
				<td>Channel Creation Date</td>
				<td>pubsub#creation_date</td>
				<td>"1997-08-29T02:14:42-05:00Z"</td>
				<td>When the channel was created in ISO 8601 time format. Set by the server
					at creation. Not user changeable.
				</td>
				<td>N.A.</td>
			</tr>
			<tr class="body">
				<td>Channel Updated Date</td>
				<td>buddycloud#updated_date</td>
				<td>"2011-04-21T20:11:00-05:00Z"</td>
				<td>The date the channel configuration was later updated in ISO 8601 time
					format. Set by the server. Not user changable.
				</td>
				<td>N.A.</td>
			</tr>
            <tr class="body">
                <td>Node content type</td>
                <td>pubsub#type</td>
                <td>http://www.w3.org/2005/Atom</td>
                <td>The type of content held within this node.</td>
                <td>http://www.w3.org/2005/Atom</td>
            </tr>
		</table></div>
		<p>Channel owners and moderators can also set the default affiliation for the
			channel
		</p>
		<p>
			<div class="indent"><p class="caption"><a name="table-2" id="table-2"></a>Table 2: Channel Types</p><table border="1" cellpadding="3" cellspacing="0">
				<tr class="body">
					<th>Channel Type</th>
					<th>Description</th>
					<th>Example</th>
				</tr>
				<tr class="body">
					<td>personal channel</td>
					<td>Channel named after and owned by the user's JID.</td>
					<td> romeo@montague.lit</td>
				</tr>
				<tr class="body">
					<td>Topic channel</td>
					<td>A channel features around a common topic.</td>
					<td>cauldron-recipees@coven.shakespeare.lit</td>
				</tr>
				<tr class="body">
					<td>local</td>
					<td>
						<p>Appears as an open channel to local users on that domain.</p>
						<p>Appears as a closed channel to users on remote Buddycloud domains.
						</p>
					</td>
					<td>montague-family-channel@montague.lit
					</td>
				</tr>
			</table></div>
		</p>
		<p>
			<div class="indent"><p class="caption"><a name="table-3" id="table-3"></a>Table 3: Channel Access Models</p><table border="1" cellpadding="3" cellspacing="0">
				<tr class="body">
					<th>Access Model</th>
					<th>Description</th>
				</tr>
				<tr class="body">
					<td>authorize</td>
					<td>The channel is only viewable by it's producer, followers,
						followers+post and moderators.
					</td>
				</tr>
				<tr class="body">
					<td>open</td>
					<td>Anyone can view the channel.</td>
				</tr>
				<tr class="body">
					<td>local</td>
					<td>
						<p>Appears as an open channel to local users on that domain.</p>
						<p>Appears as a closed channel to users on remote Buddycloud domains.
						</p>
					</td>
				</tr>
			</table></div>
		</p>
	</div>
	<div class="indent"><h3>4.4 <a name="well-known-nodes" id="well-known-nodes">Well known nodes</a></h3>
		<p>Buddycloud is designed to be extended with new node and content types. To
			kickstart Buddycloud starts with some well known and used nodes. It is
			recommended that new nodes are announced publicly on the XSF standards
			mailing list and an informal registry will be kept.
		</p>
		<div class="indent"><p class="caption"><a name="table-4" id="table-4"></a>Table 4: Well known Buddycloud nodes.</p><table border="1" cellpadding="3" cellspacing="0">
			<tr class="body">
				<th>Node Name</th>
				<th>Use</th>
				<th>Format</th>
				<th>Notes</th>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/posts</td>
				<td>Activity stream</td>
				<td>Atom format</td>
				<td>Activty stream formatted posts</td>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/public-key</td>
				<td>RFC 4880 OpenPGP public key
				</td>
				<td>Key is published using ASCII Armour encoding scheme as detailed in
					RFC-2440, Section 6 and is encoded using the
					http://xmpp.org/extensions/xep-0189.xml#schema-pubkey syntax.
				</td>
				<td>Applications use the Public Key to encode messages and posts to the node
					owner.
				</td>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/geoloc-past</td>
				<td>Describes where the channel owner was previously.</td>
				<td>XEP-0080</td>
				<td>Show's key location or place "checkins".</td>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/geoloc</td>
				<td>Describes where the channel owner is now.</td>
				<td>XEP-0080</td>
				<td>A single item.</td>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/geoloc-future</td>
				<td>Describe where the channel owner plans to go.</td>
				<td>XEP-0080</td>
				<td>Show's an intended location or description (for example "Juliet's
					Balcony" or "Going out this evening to read love poetry"). A good
					application will clear the geoloc-future location when it matches the
					current location.
				</td>
			</tr>
			<tr class="body">
				<td>/user/&lt;jid&gt;&gt;/status</td>
				<td>A one line descrition of the channels status.</td>
				<td>
					unknown 
				</td>
				<td>For example a user might enter "Is happy" and a topic channel for a
					development team might have a status line of "Code is building correctly"
				</td>
			</tr>
		</table></div>
	</div>
<h2>5.
       <a name="biz-logic" id="biz-logic">Business Logic</a></h2>
	<div class="indent"><h3>5.1 <a name="PubSub-for-humans" id="PubSub-for-humans">PubSub for Humans</a></h3>
		<p> Buddycloud adapts XEP-0060's machine-to-machine design goals with logic
			and presets that work better in a social person-to-person and person-to-group
			environment. For example, to discourage "glorifying the wicked", the list of
			banned users is only presented to the channel's moderators.
		</p>
		<p>
			<div class="indent"><p class="caption"><a name="table-5" id="table-5"></a>Table 5: channel read permissions</p><table border="1" cellpadding="3" cellspacing="0">
				
					<tr class="body">
						<th>Property</th>
						<th>Access model</th>
						<th>Example</th>
						<th>Channel Producer</th>
						<th>Channel Moderator</th>
						<th>Follower+post</th>
						<th>Follower</th>
						<th>Anonymous (e.g. web)</th>
						<th>Banned users</th>
					</tr>
				
				
					<tr class="body">
						<td>channel name</td>
						<td>all</td>
						<td>juliet@capulet.lit</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
					</tr>
					<tr class="body">
						<td>channel title</td>
						<td>all</td>
						<td>Posts about Romeo</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
					</tr>
					<tr class="body">
						<td>channel description</td>
						<td>all</td>
						<td>Posts and photos of my darling Romeo. This is not a place for Verona
							gossip.
						</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
					</tr>
					<tr class="body">
						<td>banned user list</td>
						<td>all</td>
						<td>father@montague.lit</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>pending subscription list</td>
						<td>all</td>
						<td>nurse@capulet.lit</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td rowspan="3">channel posts</td>
						<td>open</td>
						<td rowspan="3">O Romeo, Romeo! Wherefore art thou Romeo? Deny thy father
							and refuse thy name. Or, if thou wilt not, be but sworn my love, And I’ll
							no longer be a Capulet.
						</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
					</tr>
					<tr class="body">
						<td>authorize</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>local</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td rowspan="3">followers, moderators and owner</td>
						<td>open</td>
						<td rowspan="3">tybalt@capulet.lit, servant@capulet.lit, peter@capulet.lit
						</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
					</tr>
					<tr class="body">
						<td>authorize</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>local</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
					</tr>
				
			</table></div>
		</p>
		<p>
			<div class="indent"><p class="caption"><a name="table-6" id="table-6"></a>Table 6: channel write permissions</p><table border="1" cellpadding="3" cellspacing="0">
				
					<tr class="body">
						<th>Property</th>
						<th>Producer</th>
						<th>Moderator</th>
						<th>Follower+post</th>
						<th>Follower</th>
						<th>Anonymous (e.g. web)</th>
						<th>Banned users</th>
					</tr>
				
				
					<tr class="body">
						<td>change channel name</td>
						<td>only at creation time</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>channel channel title</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>change channel description</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>change banned user list</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>approve pending subscriptions</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>create posts</td>
						<td>yes</td>
						<td>yes</td>
						<td>yes</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
					<tr class="body">
						<td>delete posts</td>
						<td>yes</td>
						<td>yes</td>
						<td>own posts</td>
						<td>no</td>
						<td>no</td>
						<td>no</td>
					</tr>
				
			</table></div>
		</p>
	</div>
	<div class="indent"><h3>5.2 <a name="rules-nodeaffiliations" id="rules-nodeaffiliations">Maintain Similar Affiliations across Channel Nodes</a></h3>
		<p>A Buddycloud server SHOULD maintain similar affiliations for a subscribed
			entity across all the Nodes of a Channel.
		</p>
		<p>The server should automatically ensure that all nodes belonging to that
			channel are updated with the same permissions. This helps address a common
			criticism of the "privacy confusion" of other social products where users
			need to search settings on different clients to ensure that their profile
			really is private.
		</p>
	</div>
<h2>6.
       <a name="items" id="items">Pubsub Items</a></h2>

	<p>Many
		of the item use cases follow those from &amp;
		<span class="strong">xep0060</span>
		; here we only note the departures from the parent XEP and specific
		requirements.
	</p>
    

    <div class="indent"><h3>6.1 <a name="items-retrieve" id="items-retrieve">Retrieving items</a></h3>
        
        <div class="indent"><h3>6.1.1 <a name="items-recent" id="items-recent">Recent Items</a></h3>
        
            <p>It is possible to retrieve any new items since last retrieval from all subscribed channels ('<span class="em">/posts</span>' nodes specifically) since last retrieval using the <span class="strong">recent items</span> functionality.
            </p>

            <p class="caption"><a name="example-7" id="example-7"></a>Example 7. Recent items query</p><div class="indent"><pre class="prettyprint">
  
&lt;iq from="juliet@capulet.lit/bc-app" to="buddycloud.capulet.lit" type="get" id="recent-items:1"&gt; 
  &lt;pubsub xmlns="http://jabber.org/protocol/pubsub"&gt; 
    &lt;recent-items xmlns="http://buddycloud.org/v1" 
                  since="2014-04-18T10:46.100Z" 
                  max="50"
                  parent-only="true" /&gt; 
  &lt;/pubsub&gt; 
&lt;/iq&gt;
  
            </pre></div>
            
            <p class="caption"><a name="example-8" id="example-8"></a>Example 8. Recent items reply</p><div class="indent"><pre class="prettyprint">
  
&lt;iq to="juliet@capulet.lit/bc-app" from="buddycloud.capulet.lit" type="result" id="recent-items:1"&gt; 
  &lt;pubsub xmlns="http://jabber.org/protocol/pubsub"&gt; 
    &lt;items node="/user/romeo@montague.lit/posts"&gt;
        &lt;item id="tag:channels.capulet.lit,/users/juliet@montague.lit/posts,16584564008760001"&gt;
            ...atom payload...
        &lt;/item&gt;
        &lt;item id="tag:channels.capulet.lit,/users/juliet@montague.lit/posts,10070506450002"&gt;
            ...atom payload...
        &lt;/item&gt;
    &lt;/items&gt;
    &lt;items node="/user/juliet@capulet.lit/posts"&gt;
        &lt;item id="tag:channels.capulet.lit,/users/juliet@capulet.lit/posts,3252545492409"&gt;
            ...atom payload...
        &lt;/item&gt;
    &lt;/items&gt;
    &lt;items node="/user/romeo@montague.lit/posts"&gt;
        &lt;item id="tag:channels.capulet.lit,/users/juliet@montague.lit/posts,106876700003"&gt;
            ...atom payload...
        &lt;/item&gt;
    &lt;/items&gt;
  &lt;/pubsub&gt; 
&lt;/iq&gt;
  
            </pre></div>
            
            <p>In this example <span class="em">max</span> represents the maximum number of items the user wishes to retrieve 
            from any one channel, <span class="em">since</span> is the datetime from which posts should start, and 
            <span class="em">parent-only</span> allows users to requests posts which only start a discussion 
            (i.e. no reply posts).</p>
            
            <div class="indent"><h3>6.1.1.1 <a name="items-recent-errorcases" id="items-recent-errorcases">Error Cases</a></h3>
                <p>The following extended error cases are used:
                </p>
                <ul>
                    <li>
                        <span class="em">max-required</span>
                        : A maximum number of items per node is required
                    </li>
                    <li>
                        <span class="em">invalid-max-value-provided</span>
                        : The value of <span class="em">max</span> must be a positive integer
                    </li>
                    <li>
                        <span class="em">since-required</span>
                        : A valid value for <span class="em">since</span> must be provided
                    </li>
                    <li>
                        <span class="em">invalid-since-value-provided</span>
                        : <span class="em">since</span> must be a parsable date string (ISO-8601 format)
                    </li>
                </ul>
            </div>
        
        </div>
    </div>
    
	<div class="indent"><h3>6.2 <a name="items-delete" id="items-delete">Deleting items</a></h3>
		<p class="caption"><a name="example-9" id="example-9"></a>Example 9. The client sends</p><div class="indent"><pre class="prettyprint">
  
&lt;iq from="juliet@capulet.lit/bc-app" to="buddycloud.capulet.lit" type="set" id="retractitem:32"&gt; 
  &lt;pubsub xmlns="http://jabber.org/protocol/pubsub"&gt; 
    &lt;retract node="/user/juliet@capulet.lit/posts" notify="1"&gt; 
      &lt;item id="1291048772456"/&gt; 
    &lt;/retract&gt; 
  &lt;/pubsub&gt; 
&lt;/iq&gt;
  
		</pre></div>
		<p class="caption"><a name="example-10" id="example-10"></a>Example 10. Server replies</p><div class="indent"><pre class="prettyprint">
  
&lt;iq from="buddycloud.capulet.lit" to="juliet@capulet.lit/bc-app" type="result" id="retractitem:32"/&gt;
  
		</pre></div>
		A retraction message is sent to all online clients, with an Atom tombstone to
		replace the deleted post
		<p class="caption"><a name="example-11" id="example-11"></a>Example 11. The Buddycloud server sends retractions out to online clients</p><div class="indent"><pre class="prettyprint">
  
&lt;message from="buddycloud.capulet.lit" id="bc:MGV3B" to="benvolio@montague.lit"&gt; 
  &lt;event xmlns="http://jabber.org/protocol/pubsub#event"&gt; 
    &lt;items node="/user/channeluser@example.com/posts"&gt; 
      &lt;retract id="1291048772456"/&gt; 
      &lt;item id="1291048772456"&gt;
        &lt;deleted-entry xmlns="http://purl.org/atompub/tombstones/1.0" ref="xmpp:buddycloud.capulet.lit?pubsub;action=retrieve;node=/user/juliet@capulet.lit/posts;item=1291048772456" when="2012-07-01T15:08:32.950Z"&gt;
          &lt;updated&gt;2012-07-01T15:08:32.950Z&lt;/updated&gt;
          &lt;id xmlns="http://www.w3.org/2005/Atom"&gt;1291048772456&lt;/id&gt;
          &lt;link xmlns="http://www.w3.org/2005/Atom" href="xmpp:buddycloud.capulet.lit?pubsub;action=retrieve;node=/user/juliet@capulet.lit/posts;item=1291048772456" rel="self"/&gt;
          &lt;published xmlns="http://www.w3.org/2005/Atom"&gt;2012-07-01T15:08:30.922Z&lt;/published&gt;
          &lt;object xmlns="http://activitystrea.ms/spec/1.0/"&gt;
            &lt;object-type&gt;comment&lt;/object-type&gt;
          &lt;/object&gt;
          &lt;verb xmlns="http://activitystrea.ms/spec/1.0/"&gt;post&lt;/verb&gt;
        &lt;/deleted-entry&gt;
      &lt;/item&gt;
    &lt;/items&gt; 
  &lt;/event&gt; 
&lt;/message&gt;
  
		</pre></div>
	</div>
	<div class="indent"><h3>6.3 <a name="item-payload" id="item-payload">Item Payload</a></h3>
		<p>Buddycloud
			item data are formatted according to &amp;
			<span class="strong">atom</span>;
			standards and optionally making use of &amp;
			<span class="strong">thread</span>;
			and &amp;
			<span class="strong">review</span>
			; extensions.
		</p>
		<div class="indent"><h3>6.3.1 <a name="item-publishing" id="item-publishing">Publishing</a></h3></div>
		<p>The minimal payload for a publish request must be formatted as follows:
		</p>
		<p class="caption"><a name="example-12" id="example-12"></a>Example 12. The Entity publishes to a node</p><div class="indent"><pre class="prettyprint">
  
&lt;iq from="juliet@montague.lit/balcony" to="channels.montague.lit" type="set" id="publish:20"&gt;
   &lt;pubsub xmlns="http://jabber.org/protocol/pubsub"&gt;
      &lt;publish node="/user/romeo@capulet.lit/posts"&gt;
         &lt;item&gt;
            &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
               &lt;content type="text"&gt;O Romeo, Romeo! wherefore art thou Romeo?&lt;/content&gt;
             &lt;/entry&gt;
         &lt;/item&gt;
      &lt;/publish&gt;
   &lt;/pubsub&gt;
&lt;/iq&gt;
  
		</pre></div>
		<p>This payload will be extended with default data by the server if not
			provided. The final payload looking as follows:
		</p>
		<p class="caption"><a name="example-13" id="example-13"></a>Example 13. Payload with server-added elements</p><div class="indent"><pre class="prettyprint">
        
            &lt;entry xmlns="http://www.w3.org/2005/Atom"&gt;
               &lt;id&gt;fc362eb42085f017ed9ccd9c4004b095&lt;/id&gt;
               &lt;title&gt;Post title&lt;/title&gt;
               &lt;published&gt;2014-01-01T00:00:00.000Z&lt;/published&gt;
               &lt;updated&gt;2014-01-01T00:00:00.000Z&lt;/updated&gt;
               &lt;author&gt;
                  &lt;name&gt;juliet@montague.lit&lt;/name&gt;
                  &lt;jid xmlns="http://buddycloud.com/atom-elements-0"&gt;juliet@montague.lit&lt;/jid&gt;
               &lt;/author&gt;
               &lt;content type="text"&gt;O Romeo, Romeo! wherefore art thou Romeo?&lt;/content&gt;
               &lt;activity:verb&gt;post&lt;/activity:verb&gt;
               &lt;activity:object&gt;
                  &lt;activity:object-type&gt;post&lt;/activity:object-type&gt;
               &lt;/activity:object&gt;
             &lt;/entry&gt;

		</pre></div>
		<div class="indent"><h3>6.3..1 <a name="item-publishing-errorcases" id="item-publishing-errorcases">Error Cases</a></h3>
			<p>Beyond
				standard &amp;
				<span class="strong">xep0060</span>
				; error cases additional errors are used:
			</p>
			<ul>
				<li>
					<span class="em">entry-element-required</span>
					: Where no entry element has been provided in the payload
				</li>
				<li>
					<span class="em">content-element-required</span>
					: Where no content element or an empty content element is provided
				</li>
				<li>
					<span class="em">unsupported-content-type</span>
					: If provided the 'type' attribute of the content element must be either
					'text' or 'xhtml'. If not provided value will default to 'text'
				</li>
			</ul>
		</div>
		<div class="indent"><h3>6.3.2 <a name="item-threading" id="item-threading">Threading</a></h3></div>
		<p>
			Posts in Buddycloud can be formed into threads consisting of a parent post
			and comments to a maximum thread depth of 1. Posts follow the
			ATOM threading specification
			and utilise the &amp;
			<span class="strong">thread</span>
			; namespace with the 'ref' attribute referring to the full global ID of the
			parent post.
		</p>
		<p class="caption"><a name="example-14" id="example-14"></a>Example 14. A valid payload for replying in a thread</p><div class="indent"><pre class="prettyprint">
        
            &lt;entry xmlns="http://www.w3.org/2005/Atom" xmlns:thr="http://purl.org/syndication/thread/1.0" xmlns:activity="http://activitystrea.ms/spec/1.0/"&gt;
               &lt;id&gt;96da02ee1baef61e767742844207bec4&lt;/id&gt;
               &lt;title&gt;Post title&lt;/title&gt;
               &lt;published&gt;2014-01-01T00:00:00.000Z&lt;/published&gt;
               &lt;updated&gt;2014-01-01T00:00:00.000Z&lt;/updated&gt;
               &lt;author&gt;
                  &lt;name&gt;romeo@capulet.lit&lt;/name&gt;
                  &lt;jid xmlns="http://buddycloud.com/atom-elements-0"&gt;romeo@capulet.lit&lt;/jid&gt;
               &lt;/author&gt;
               &lt;content type="text"&gt;Shall I hear more, or shall I speak at this?&lt;/content&gt;
               &lt;activity:verb&gt;post&lt;/activity:verb&gt;
               &lt;activity:object&gt;
                  &lt;activity:object-type&gt;comment&lt;/activity:object-type&gt;
               &lt;/activity:object&gt;
               &lt;thr:in-reply-to ref="tag:channels.capulet.lit,/users/romeo@capulet.lit/posts,fc362eb42085f017ed9ccd9c4004b095" /&gt;
            &lt;/entry&gt;
        
		</pre></div>
		<div class="indent"><h3>6.3..2 <a name="item-threading-errorcases" id="item-threading-errorcases">Error Cases</a></h3></div>
		<ul>
			<li>
				<span class="em">parent-item-not-found</span>
				: A reply must be made to an existing post within the same node
			</li>
			<li>
				<span class="em">max-thread-depth-exceeded</span>
				: An attempt to comment on a comment will result in this error response
			</li>
		</ul>
		<div class="indent"><h3>6.3.3 <a name="item-referencing" id="item-referencing">Referencing</a></h3></div>
		<p>Within a single thread comments can reference other comments or the parent
			item. This is for the purpose of making a comment to a post further back in
			the thread.
		</p>
		<p class="caption"><a name="example-15" id="example-15"></a>Example 15. A valid payload for referencing another post within a thread</p><div class="indent"><pre class="prettyprint">
        
            &lt;entry xmlns="http://www.w3.org/2005/Atom" xmlns:thr="http://purl.org/syndication/thread/1.0" xmlns:activity="http://activitystrea.ms/spec/1.0/"&gt;
               &lt;id&gt;96da02ee1baef61e767742844207bec4&lt;/id&gt;
               &lt;title&gt;Post title&lt;/title&gt;
               &lt;published&gt;2014-01-01T00:00:00.000Z&lt;/published&gt;
               &lt;updated&gt;2014-01-01T00:00:00.000Z&lt;/updated&gt;
               &lt;author&gt;
                  &lt;name&gt;romeo@capulet.lit&lt;/name&gt;
                  &lt;jid xmlns="http://buddycloud.com/atom-elements-0"&gt;romeo@capulet.lit&lt;/jid&gt;
               &lt;/author&gt;
               &lt;content type="text"&gt;Shall I hear more, or shall I speak at this?&lt;/content&gt;
               &lt;activity:verb&gt;post&lt;/activity:verb&gt;
               &lt;activity:object&gt;
                  &lt;activity:object-type&gt;comment&lt;/activity:object-type&gt;
               &lt;/activity:object&gt;
               &lt;thr:in-reply-to ref="tag:channels.capulet.lit,/users/romeo@capulet.lit/posts,fc362eb42085f017ed9ccd9c4004b095" /&gt;
&lt;activity:target&gt;                 &lt;id&gt;tag:channels.capuet.lit,/users/romeo@capulet.lit/posts,fc362eb42085f017ed9ccd9c4004b095&lt;/id&gt;
               &lt;/activity:target&gt;
            &lt;/entry&gt;
        
		</pre></div>
		<div class="indent"><h3>6.3..3 <a name="item-referencing-errorcases" id="item-referencing-errorcases">Error Cases</a></h3>
			<ul>
				<li>
					<span class="em">missing-in-reply-to</span>
					: As posts referencing other posts can only be comments then attempting to
					do so results in this error
				</li>
				<li>
					<span class="em">missing-target-id</span>
					: A target ID must be specificed as text to the target element
				</li>
				<li>
					<span class="em">targeted-item-not-found</span>
					: If the targetted item can not be found in the current thread this error
					response will be returned
				</li>
				<li>
					<span class="em">target-outside-thread</span>
					: The targetted item must be within the same thread as the new post
				</li>
			</ul>
		</div>
		<div class="indent"><h3>6.3.4 <a name="item-rating" id="item-rating">Rating</a></h3>
			<p>By
				making use of the &amp;
				<span class="strong">review</span>;
				extension of activity streams and the &amp;
				<span class="strong">target</span>
				; element outline above Buddycloud is able to support 'rating' a post.
			</p>
			<p>Posts can be rated an integer value between 1 and 5, although may only
				wish to provide a binary setting to match popular services which provide
				'likes', '+1', etc.
			</p>
			<p>
				Any post content is discarded and replaced with
				<span class="strong">rating:X.0</span>
				(where
				<span class="em">X</span>
				is the rating value). The activity verb is also overwritten with 'rated'.
			</p>
			<p class="caption"><a name="example-16" id="example-16"></a>Example 16. A valid payload for rating another post</p><div class="indent"><pre class="prettyprint">
        
            &lt;entry xmlns="http://www.w3.org/2005/Atom" xmlns:thr="http://purl.org/syndication/thread/1.0" xmlns:activity="http://activitystrea.ms/spec/1.0/"&gt;
               &lt;id&gt;96da02ee1baef61e767742844207bec4&lt;/id&gt;
               &lt;title&gt;Post title&lt;/title&gt;
               &lt;published&gt;2014-01-01T00:00:00.000Z&lt;/published&gt;
               &lt;updated&gt;2014-01-01T00:00:00.000Z&lt;/updated&gt;
               &lt;author&gt;
                  &lt;name&gt;romeo@capulet.lit&lt;/name&gt;
                  &lt;jid xmlns="http://buddycloud.com/atom-elements-0"&gt;romeo@capulet.lit&lt;/jid&gt;
               &lt;/author&gt;
               &lt;content type="text"&gt;rating:5.0&lt;/content&gt;
               &lt;activity:verb&gt;rated&lt;/activity:verb&gt;
               &lt;activity:object&gt;
                  &lt;activity:object-type&gt;comment&lt;/activity:object-type&gt;
               &lt;/activity:object&gt;
               &lt;thr:in-reply-to ref="tag:channels.capulet.lit,/users/romeo@capulet.lit/posts,fc362eb42085f017ed9ccd9c4004b095" /&gt;
&lt;activity:target&gt;                 &lt;id&gt;tag:channels.capuet.lit,/users/romeo@capulet.lit/posts,fc362eb42085f017ed9ccd9c4004b095&lt;/id&gt;
               &lt;/activity:target&gt;
               &lt;review:rating&gt;5.0&lt;/review:rating&gt;
            &lt;/entry&gt;
        
			</pre></div>
			<div class="indent"><h3>6.3.4.1 <a name="item-rating-errorcases" id="item-rating-errorcases">Error cases</a></h3>
				<ul>
					<li>
						<span class="em">invalid-rating</span>
						: A non-numerically parsable rating value will result in this error
						message
					</li>
					<li>
						<span class="em">rating-out-of-range</span>
						: A rating can only have an integer value between 1 and 5 (inclusive)
					</li>
					<li>
						<span class="em">invalid-rating-request</span>
						: Ratings can only be made against post types 'post' and 'comment' i.e. it
						is not possible to rate a rating
					</li>
					<li>
						<span class="em">item-already-rated</span>
						: A user can only rate a single post once
					</li>
				</ul>
			</div>
		</div>
	</div>
<h2>7.
       <a name="subscriptions" id="subscriptions">Channel subscriptions</a></h2>
    <p>See XEP-0060.</p>
<h2>8.
       <a name="federation" id="federation">Federation</a></h2>
	<div class="indent"><h3>8.1 <a name="inbox" id="inbox">Inbox</a></h3>
	</div>
	<div class="indent"><h3>8.2 <a name="Interaction-With-Other-Services" id="Interaction-With-Other-Services">Interaction With Other Services</a></h3>
		<p>The Buddycloud service is designed to work with interchangeable components
			that offer discrete services and together form a complete communication
			service.
		</p>
		<p>While the Buddycloud Server is designed to work independently of other
			services but can be enhanced with helper services. Each helper communicates
			with the Buddycloud server and other components using XEP-0114 connections.
			Examples of helper services include: push notifications, media hosting,
			contact matching, content search and channel recommendations.
		</p>
		<p>Helper services' specifications are covered in separate XEPs.
		</p>
	</div>
<h2>9.
       <a name="security-considerations" id="security-considerations">Security Considerations</a></h2>
	<div class="indent"><h3>9.1 <a name="server-trust" id="server-trust">Server Trust</a></h3>
		<p>
			The Buddycloud server should make sure that the remote server
			component is the authoritative Buddycloud server for the domain it
			claims to represent. This is done by running the server discovery 
			process and confirming the same XMPP component name.
		</p>
	</div>
	<div class="indent"><h3>9.2 <a name="security-considerations-with-follower+post-role" id="security-considerations-with-follower+post-role">Default Role</a></h3>
		<p>Open channel where members join with a follow+post role present an
			attractive target for spamming and malicious behaviour. This default
			role should be use with caution especially when the Buddycloud server
			federates with remote Buddycloud-enabled domains.
		</p>
	</div>
<hr /><a name="appendices" id="appendices"></a><h2>Appendices</h2><hr /><a name="appendix-docinfo" id="appendix-docinfo"></a><h3>Appendix A: Document Information</h3><p class="indent">
            Series: <a href="http://xmpp.org/extensions/">XEP</a><br />
            Number: xxxx<br />
            Publisher: <a href="/xsf/">XMPP Standards Foundation</a><br />
            Status: 
            <a href="http://xmpp.org/extensions/xep-0001.html#states-ProtoXEP">ProtoXEP</a><br />
            Type:
            <a href="http://xmpp.org/extensions/xep-0001.html#types-Standards Track">Standards Track</a><br />
            Version: 0.0.1<br />
            Last Updated: `date +%Y-%m-%d`<br />
                Approving Body: <a href="http://xmpp.org/council/">XMPP Council</a><br />Dependencies: XMPP Core, XEP-0059, XEP-0060, XEP-0313, XEP-0255, XEP-0107<br />
                Supersedes: None<br />
                Superseded By: None<br />
            Short Name: NOT_YET_ASSIGNED<br />
            This document in other formats: 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-xxxx.xml">XML</a> 
                <a class="standardsButton" href="http://xmpp.org/extensions/xep-xxxx.pdf">PDF</a></p><hr /><a name="appendix-authorinfo" id="appendix-authorinfo"></a><h3>Appendix B: Author Information</h3><div class="indent"><h3>Simon Tennant</h3><p class="indent">
        Email:
        <a href="mailto:simon@buddycloud.com">simon@buddycloud.com</a><br />
        JabberID: 
        <a href="xmpp:simon@buddycloud.com">simon@buddycloud.com</a><br /></p><h3>Lloyd Watkin</h3><p class="indent">
        Email:
        <a href="mailto:lloyd@evilprofessor.co.uk">lloyd@evilprofessor.co.uk</a><br />
        JabberID: 
        <a href="xmpp:lloyd@evilprofessor.co.uk">lloyd@evilprofessor.co.uk</a><br /></p><h3>Ashley Ward</h3><p class="indent">
        Email:
        <a href="mailto:ashley.ward@surevine.com">ashley.ward@surevine.com</a><br />
        JabberID: 
        <a href="xmpp:ashley.ward@surevine.com">ashley.ward@surevine.com</a><br /></p></div><hr /><a name="appendix-legal" id="appendix-legal"></a><h3>Appendix C: Legal Notices</h3><div class="indent"><h4>Copyright</h4>This XMPP Extension Protocol is copyright (c) 1999 - `date +%Y`
        by the XMPP Standards Foundation (XSF).
    <h4>Permissions</h4> Permission is hereby granted, free of charge, to any
        person obtaining a copy of this specification (the
        "Specification"), to make use of the Specification without
        restriction, including without limitation the rights to implement
        the Specification in a software program, deploy the Specification in
        a network service, and copy, modify, merge, publish, translate,
        distribute, sublicense, or sell copies of the Specification, and to
        permit persons to whom the Specification is furnished to do so,
        subject to the condition that the foregoing copyright notice and
        this permission notice shall be included in all copies or
        substantial portions of the Specification. Unless separate
        permission is granted, modified works that are redistributed shall
        not contain misleading information regarding the authors, title,
        number, or publisher of the Specification, and shall not claim
        endorsement of the modified works by the authors, any organization
        or project to which the authors belong, or the XMPP Standards
        Foundation.
    <h4>Disclaimer of Warranty</h4><span style="font-weight: bold"> ## NOTE WELL: This Specification is provided on an
        "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
        KIND, express or implied, including, without limitation, any
        warranties or conditions of TITLE, NON-INFRINGEMENT,
        MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. In no event
        shall the XMPP Standards Foundation or the authors of this
        Specification be liable for any claim, damages, or other liability,
        whether in an action of contract, tort, or otherwise, arising from,
        out of, or in connection with the Specification or the
        implementation, deployment, or other use of the Specification. ##
    </span><h4>Limitation of Liability</h4> In no event and under no legal theory, whether in tort
        (including negligence), contract, or otherwise, unless required by
        applicable law (such as deliberate and grossly negligent acts) or
        agreed to in writing, shall the XMPP Standards Foundation or any
        author of this Specification be liable for damages, including any
        direct, indirect, special, incidental, or consequential damages of
        any character arising out of the use or inability to use the
        Specification (including but not limited to damages for loss of
        goodwill, work stoppage, computer failure or malfunction, or any and
        all other commercial damages or losses), even if the XMPP Standards
        Foundation or such author has been advised of the possibility of
        such damages.
    <h4>IPR Conformance</h4>
        This XMPP Extension Protocol has been contributed in full
        conformance with the XSF's Intellectual Property Rights Policy (a
        copy of which may be found at &lt;
        <a href="http://xmpp.org/extensions/ipr-policy.shtml">http://xmpp.org/extensions/ipr-policy.shtml</a>
        &gt; or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201
        USA).
    </div><hr /><a name="appendix-xmpp" id="appendix-xmpp"></a><h3>Appendix D: Relation to XMPP</h3><p class="indent">The Extensible Messaging and Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP IM (RFC 3921) specifications contributed by the XMPP Standards Foundation to the Internet Standards Process, which is managed by the Internet Engineering Task Force in accordance with RFC 2026. Any protocol defined in this document has been developed outside the Internet Standards Process and is to be understood as an extension to XMPP rather than as an evolution, development, or modification of XMPP itself.</p><hr /><a name="appendix-discuss" id="appendix-discuss"></a><h3>Appendix E: Discussion Venue</h3><p class="indent">The primary venue for discussion of XMPP Extension Protocols is the &lt;<a href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt; discussion list.</p><p class="indent">Discussion on other xmpp.org discussion lists might also be appropriate; see &lt;<a href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt; for a complete list.</p><p class="indent">Errata can be sent to &lt;<a href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr /><a name="appendix-conformance" id="appendix-conformance"></a><h3>Appendix F: Requirements Conformance</h3><p class="indent">The following requirements keywords as used in this document are to be interpreted as described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>: "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", "RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr /><a name="appendix-notes" id="appendix-notes"></a><h3>Appendix G: Notes</h3><div class="indent"></div><hr /><a name="appendix-revs" id="appendix-revs"></a><h3>Appendix H: Revision History</h3><p>Note: Older versions of this specification might be available at <a href="http://xmpp.org/extensions/attic/">http://xmpp.org/extensions/attic/</a></p><div class="indent"><h4>Version 0.0.1 (`date +%Y-%m-%d`)</h4><div class="indent">
            <p>First draft.</p>
         (sdt)
    </div></div><hr /><p>END</p></body></html>
